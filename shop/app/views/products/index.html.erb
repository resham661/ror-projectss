<p style="color: green"><%= notice %></p>

<h1>Products List</h1>
<div class="product-block">
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th class="col-md-2">Name</th>
    	  <th class="col-md-2">Price</th>
        <th class="col-md-2">Creator</th>
    	  <th class="col-md-4">Options</th>
      </tr>
    </thead>
    <tbody>
    <% @products.each do |product| %>
      <tr>
        <td class="col-md-2"><%= product.name %></td>
        <td class="col-md-2">$<%= product.price %></td>
        <td class="col-md-2"><%= product.user.try(:email) %></td>
        <td class="col-md-4">
          <%= link_to 'Show', product_path(product), class: "btn btn-info" %>
          <% if can? :update, product %><%= link_to 'Edit', edit_product_path(product), class: "btn  btn-warning" %><% end %>
          <% if can? :destroy, product %><%= link_to 'Destroy', product_path(product), data: {turbo_method: :Delete, turbo_confirm: "Are you sure?"}, class: "btn btn-danger" %><% end %>
        </td>
    	</tr>
    <% end %>
    </tbody>
</div>

<%= link_to "New product", new_product_path, class: "btn btn-primary" %>
